/*!
 * 
 *   typeit - The most versatile animated typing utility on the planet.
 *   Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
 *   Version: v5.0.0
 *   URL: https://typeitjs.com
 *   License: GPL-2.0
 * 
 */
(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.TypeIt=b():a.TypeIt=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var e='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1).default;a.exports=function(){function a(b,c){d(this,a),this.elements=[],this.instances=[],'object'===('undefined'==typeof b?'undefined':e(b))&&(void 0===b.length?this.elements.push(b):this.elements=b),'string'==typeof b&&(this.elements=document.querySelectorAll(b)),this.createInstances(c)}return f(a,[{key:'createInstances',value:function(a){var b=this;[].slice.call(this.elements).forEach(function(c){b.instances.push(new g(c,a))})}},{key:'pushAction',value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.instances.forEach(function(c){c.queue.push([c[a],b])})}},{key:'type',value:function(a){return this.pushAction('type',a),this}},{key:'delete',value:function(a){return this.pushAction('delete',a),this}},{key:'empty',value:function(){return this.pushAction('empty'),this}},{key:'pause',value:function(a){return this.pushAction('pause',a),this}},{key:'break',value:function(){return this.pushAction('break'),this}},{key:'options',value:function(a){return this.pushAction('setOptions',a),this}}]),a}()},function(a,b){'use strict';function c(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d){c(this,a),this.defaults={strings:[],speed:100,deleteSpeed:void 0,lifeLike:!0,cursor:!0,cursorSpeed:1e3,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,autoStart:!0,callback:function(){}},this.id='',this.queue=[],this.queueIndex=0,this.hasStarted=!1,this.inTag=!1,this.stringsToDelete='',this.style='style="display:inline;position:relative;font:inherit;color:inherit;"',this.element=b,this.setOptions(d,this.defaults),this.init()}return d(a,[{key:'init',value:function(){this.checkElement(),this.options.strings=this.toArray(this.options.strings),1<=this.options.strings.length&&''===this.options.strings[0]||(this.element.innerHTML='<i class="ti-placeholder" style="display:inline-block;width:0;line-height:0;overflow:hidden;">.</i><span '+this.style+' class="ti-container"></span>',this.id=this.generateHash(),this.element.dataset.typeitid=this.id,this.elementContainer=this.element.querySelector('span'),this.options.startDelete&&(this.insert(this.stringsToDelete),this.queue.push([this.delete]),this.insertPauseIntoQueue(1)),this.generateQueue(),this.kickoff())}},{key:'generateQueue',value:function(){for(var a=0;a<this.options.strings.length;a++)this.queue.push([this.type,this.options.strings[a]]),a<this.options.strings.length-1&&(this.queue.push([this.options.breakLines?this.break:this.delete]),this.insertPauseIntoQueue(this.queue.length))}},{key:'insertPauseIntoQueue',value:function(a){var b=this.options.nextStringDelay/2;this.queue.splice(a-1,0,[this.pause,b]),this.queue.splice(a+2,0,[this.pause,b])}},{key:'kickoff',value:function(){if(this.cursor(),this.options.autoStart)this.startQueue();else if(this.isVisible())this.hasStarted=!0,this.startQueue();else{var a=this;window.addEventListener('scroll',function b(c){a.isVisible()&&!a.hasStarted&&(a.hasStarted=!0,a.startQueue(),c.currentTarget.removeEventListener(c.type,b))})}}},{key:'startQueue',value:function(){var a=this;setTimeout(function(){a.executeQueue()},this.options.startDelay)}},{key:'isVisible',value:function(){var a=this.element.getBoundingClientRect(),b={height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};return a.right>b.width||a.bottom>b.height?!1:0>a.top||0>a.left?!1:!0}},{key:'generateHash',value:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}},{key:'cursor',value:function(){if(this.options.cursor){var a=this.generateHash(),b=document.createElement('style'),c='\n          @keyframes blink-'+a+' {\n            0% {opacity: 0}\n            49%{opacity: 0}\n            50% {opacity: 1}\n          }\n\n          [data-typeitid=\''+this.id+'\'] .ti-cursor {\n            animation: blink-'+a+' '+this.options.cursorSpeed/1e3+'s infinite;\n          }\n        ';b.appendChild(document.createTextNode(c)),document.head.appendChild(b),this.element.insertAdjacentHTML('beforeend','<span '+this.style+'class="ti-cursor">|</span>')}}},{key:'insert',value:function(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1];b?this.elementContainer.lastChild.insertAdjacentHTML('beforeend',a):this.elementContainer.insertAdjacentHTML('beforeend',a)}},{key:'toArray',value:function(a){return a.constructor===Array?a.slice(0):a.split('<br>')}},{key:'checkElement',value:function(){!this.options.startDelete&&0<this.element.innerHTML.length?this.options.strings=this.element.innerHTML.trim():this.stringsToDelete=this.element.innerHTML}},{key:'break',value:function(){this.insert('<br>'),this.executeQueue()}},{key:'pause',value:function(a){var b=this;a=void 0===a?this.options.nextStringDelay:a,setTimeout(function(){b.executeQueue()},a)}},{key:'rake',value:function(a){var b=this;return a.map(function(a){if(a=a.split(''),b.options.html)for(var c=[],d=void 0,e=!1,f=0;f<a.length;f++)('<'===a[f]||'&'===a[f])&&(c[0]=f,e='&'===a[f]),('>'===a[f]||';'===a[f]&&e)&&(c[1]=f,f=0,d=a.slice(c[0],c[1]+1).join(''),a.splice(c[0],c[1]-c[0]+1,d),e=!1);return a})}},{key:'print',value:function(a){this.inTag?(this.insert(a,!0),this.tagCount<this.tagDuration?this.tagCount++:this.inTag=!1):this.insert(a)}},{key:'type',value:function(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;a=this.toArray(a),c&&(a=this.rake(a),a=a[0]),this.typingTimeout=setTimeout(function(){if(b.setPace(b),b.options.html&&-1!==a[0].indexOf('<')&&-1===a[0].indexOf('</')&&!b.inTag){for(var c=a.length-1;0<=c;c--)-1!==a[c].indexOf('</')&&(b.tagCount=1,b.tagDuration=c);b.inTag=!0;var d=a[0].match(/\<(.*?)\>/),e=document.implementation.createHTMLDocument();e.body.innerHTML='<'+d[1]+'></'+d[1]+'>',b.elementContainer.appendChild(e.body.children[0])}else b.print(a[0]);a.splice(0,1),a.length?b.type(a,!1):b.executeQueue()},this.typePace)}},{key:'removeHelperElements',value:function(){var a=this,b=this.element.querySelectorAll('.ti-container, .ti-cursor, .ti-placeholder');[].forEach.call(b,function(b){a.element.removeChild(b)})}},{key:'setOptions',value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c={};for(var d in null===b&&(b=this.options),b)c[d]=b[d];for(var e in a)c[e]=a[e];this.options=c,this.hasStarted&&this.executeQueue()}},{key:'randomInRange',value:function(a,b){return Math.abs(Math.random()*(a+b-(a-b))+(a-b))}},{key:'setPace',value:function(){var a=this.options.speed,b=void 0===this.options.deleteSpeed?this.options.speed/3:this.options.deleteSpeed;this.typePace=this.options.lifeLike?this.randomInRange(a,a/2):a,this.deletePace=this.options.lifeLike?this.randomInRange(b,b/2):b}},{key:'delete',value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.deleteTimeout=setTimeout(function(){a.setPace();for(var c=a.elementContainer.innerHTML.split(''),d=null===b?c.length-1:b+1,e=c.length-1;-1<e;e--)if(('>'===c[e]||';'===c[e])&&a.options.html){for(var f=e;-1<f;f--){if('<br>'===c.slice(f-3,f+1).join('')){c.splice(f-3,4);break}if('&'===c[f]){c.splice(f,e-f+1);break}if('<'===c[f]&&'>'!==c[f-1]){if(';'===c[f-1])for(var g=f-1;-1<g;g--)if('&'===c[g]){c.splice(g,f-g);break}c.splice(f-1,1);break}}break}else{c.pop();break}if(-1<a.elementContainer.innerHTML.indexOf('></'))for(var h=a.elementContainer.innerHTML.indexOf('></')-2;0<=h;h--)if('<'===c[h]){c.splice(h,c.length-h);break}a.elementContainer.innerHTML=c.join(''),d>(null===b?0:2)?a.delete(null===b?null:b-1):a.executeQueue()},this.deletePace)}},{key:'empty',value:function(){this.elementContainer.innerHTML='',this.executeQueue()}},{key:'executeQueue',value:function(){var a=this;if(this.queueIndex<this.queue.length){var b=this.queue[this.queueIndex];return this.queueIndex++,void(this.isLooping&&1===this.queueIndex?setTimeout(function(){b[0].call(a,b[1])},this.options.loopDelay/2):b[0].call(this,b[1]))}this.options.callback(),this.options.loop&&(this.queueIndex=0,this.isLooping=!0,setTimeout(function(){a.delete()},this.options.loopDelay/2))}}]),a}();b.default=e}])});